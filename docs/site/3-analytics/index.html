<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4 Analytics - TQ1 iOS SDK</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "4 Analytics";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> TQ1 iOS SDK</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../0-requirements/">1 Requirements</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../1-setup/">2 Setup</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../2-start/">3 Start</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">4 Analytics</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#custom-data">Custom Data</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../4-notifications/">5 Notifications</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../5-Geonotifications/">6 Geonotifications</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../6-troubleshooting/">5 Troubleshooting</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">TQ1 iOS SDK</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>4 Analytics</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="custom-data">Custom Data</h2>
<p>You can send user specific information using <code>Custom Data</code> main access method, these information will be used to filter users when sending push notifications:</p>
<pre><code class="objectivec">  - (void)addCustomData:(NSDictionary *)customData completion:(void (^)(BOOL success))completion;
</code></pre>

<p>The argument <code>customData</code> must be a dictionary with NSString values.
Another method is available to send custom data:</p>
<pre><code class="objectivec">  - (void)addCustomData:(NSDictionary *)customData keysToIgnore:(NSArray *)keysToIgnore completion:(void (^)(BOOL success))completion;
</code></pre>

<p>The argument <code>keysToIgnore</code> is an array of keys from <code>customData</code> that optionally can be passed. These keys will be ignored while filtering audience in TQ1 admin portal.</p>
<p>Once you send it you can check the push notification sending page, as they will appear under the <code>Custom Filter</code> section:</p>
<p><img alt="" src="../../images/custom-filter.png" /></p>
<!-- ##Events

Currently, every access to each page, facebook login can be registered and sent to an analytics area at TQ1, and the class that answers to these function is the TQ1Analytics:


wzxhzdk:2


To send the recorded data, all the app has to do is to record the event and the library takes care of the rest.
Basically, every x recorded events these x events are added to a queue that is then sent to the API.

To record an event one uses the *recordEvent* method. It comes in two versions, but both take the name of the event and a count (amount to add to the existing count). One of them, however, takes an additional parameter "segmentation". "Segmentation" should be an NSDictionary with extra informations about how the data will be shown in the analytics area.
Since TQ1Analytics is an one-for-each-app object, remember to use the shared method to reference it.


wzxhzdk:3


To sum it up (in the example):

  - "Page views" - The name of the event
  - "Page name" - The segmentations of the event
  - "Root" - The name of the view that will appear on analytics
  - Count: a integer that will be counted every time this method is called

About when the event queue is sent to the API: it's controlled by a timer defined at TQ1Analytics.
There are four self-explanatory (unless one've never worn a watch) methods to control the timer: *start*, *suspend*, *resume* and *exit*.
Start starts the timer, suspend suspends the timer, resume resumes the timer from when it was suspended and exit destroys the timer.
Only one warning: suspending the timer sends the queue of events to the API independently of the timer, but don't abuse it. It's better for the api to do batch jobs. -->
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../4-notifications/" class="btn btn-neutral float-right" title="5 Notifications"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../2-start/" class="btn btn-neutral" title="3 Start"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../2-start/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../4-notifications/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
